{% load static %}
{% load project_templates %}
<div class="menu4-upcoming-tasks"><div class="menu4-submenu-title">Upcoming {% if upcoming_tasks %}({{ upcoming_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="upcoming-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="upcoming-tasks-list inactive">
        {% for task in upcoming_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to me</div>
          </div>
        {% endfor %}
      </div>


      <div class="menu4-upcoming-sent-tasks"><div class="menu4-submenu-title">Upcoming {% if sent_upcoming_tasks %}({{ sent_upcoming_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="sent-upcoming-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="sent-upcoming-tasks-list inactive">
        {% for task in sent_upcoming_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to {% for assignee in task.assignees.all %} {{ assignee }} {% endfor %}</div>
          </div>
        {% endfor %}
      </div>


      <div class="menu4-due-this-week"><div class="menu4-submenu-title">Due This Week {% if weekly_tasks %}({{ weekly_tasks|length }}){% else %} {% endif %} </div><div class="menu4-dropbtn" id="weekly-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="weekly-tasks-list inactive">
        {% for task in weekly_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to me</div>
          </div>
        {% endfor %}
      </div>

      <div class="menu4-sent-due-this-week"><div class="menu4-submenu-title">Due This Week {% if sent_weekly_tasks %}({{ sent_weekly_tasks|length }}){% else %} {% endif %} </div><div class="menu4-dropbtn" id="sent-weekly-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="sent-weekly-tasks-list inactive">
        {% for task in sent_weekly_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to {% for assignee in task.assignees.all %} {{ assignee }} {% endfor %}</div>
          </div>
        {% endfor %}
      </div>


      <div class="menu4-past-due"><div class="menu4-submenu-title">Past Due {% if past_due_tasks %}({{ past_due_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="past-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="past-tasks-list inactive">
        {% for task in past_due_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to me</div>
          </div>
        {% endfor %}
      </div>

      <div class="menu4-sent-past-due"><div class="menu4-submenu-title">Past Due {% if sent_past_due_tasks %}({{ sent_past_due_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="sent-past-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="sent-past-tasks-list inactive">
        {% for task in sent_past_due_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to {% for assignee in task.assignees.all %} {{ assignee }} {% endfor %}</div>
          </div>
        {% endfor %}
      </div>

      <div class="menu4-high-prio menu4-hide"><div class="menu4-submenu-title">High {% if high_prio_tasks %}({{ high_prio_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="high-prio-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="high-prio-tasks-list inactive">
        {% for task in high_prio_tasks %}
          <div class="task-card">
            <div class="task-banner-2"></div>
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to me</div>
          </div>
        {% endfor %}
      </div>

      <div class="menu4-sent-high-prio menu4-hide"><div class="menu4-submenu-title">High {% if sent_high_prio_tasks %}({{ sent_high_prio_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="sent-high-prio-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="sent-high-prio-tasks-list inactive">
        {% for task in sent_high_prio_tasks %}
          <div class="task-card">
            <div class="task-banner-2"></div>
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to {% for assignee in task.assignees.all %} {{ assignee }} {% endfor %}</div>
          </div>
        {% endfor %}
      </div>


      <div class="menu4-med-prio menu4-hide"><div class="menu4-submenu-title">Medium {% if med_prio_tasks %}({{ med_prio_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="med-prio-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="med-prio-tasks-list inactive">
        {% for task in med_prio_tasks %}
          <div class="task-card">
            <div class="task-banner-1"></div>
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to me</div>
          </div>
        {% endfor %}
      </div>

      <div class="menu4-sent-med-prio menu4-hide"><div class="menu4-submenu-title">Medium {% if sent_med_prio_tasks %}({{ sent_med_prio_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="sent-med-prio-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="sent-med-prio-tasks-list inactive">
        {% for task in sent_med_prio_tasks %}
          <div class="task-card">
            <div class="task-banner-1"></div>
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to {% for assignee in task.assignees.all %} {{ assignee }} {% endfor %}</div>
          </div>
        {% endfor %}
      </div>


      <div class="menu4-low-prio menu4-hide"><div class="menu4-submenu-title">Low {% if low_prio_tasks %}({{ low_prio_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="low-prio-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="low-prio-tasks-list inactive">
        {% for task in low_prio_tasks %}
          <div class="task-card">
            <div class="task-banner-0"></div>
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to me</div>
          </div>
        {% endfor %}
      </div>

      <div class="menu4-sent-low-prio menu4-hide"><div class="menu4-submenu-title">Low {% if sent_low_prio_tasks %}({{ sent_low_prio_tasks|length }}){% else %} {% endif %}</div><div class="menu4-dropbtn" id="sent-low-prio-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="sent-low-prio-tasks-list inactive">
        {% for task in sent_low_prio_tasks %}
          <div class="task-card">
            <div class="task-banner-0"></div>
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to {% for assignee in task.assignees.all %} {{ assignee }} {% endfor %}</div>
          </div>
        {% endfor %}
      </div>

      {% for dict in assigner_dict %}
        <div class="menu4-assigner-tasks menu4-hide"><div class="menu4-submenu-title">{{ dict }} ({{ assigner_dict|getvalue:dict }}) </div><div class="menu4-dropbtn" id="assigner-dd-{{ forloop.counter0 }}" value="{{ forloop.counter0 }}"><i class="fas fa-chevron-down fa-lg"></i></div></div>
        <div class="assigner-tasks-list inactive" value="{{ forloop.counter0 }}">
          {% for task in all_tasks %}
            {% if task.assigner == dict %}
              <div class="task-card">
                {% if task.priority.priority == "Low" %}
                  <div class="task-banner-0"></div>
                {% elif task.priority.priority == "Medium" %}
                  <div class="task-banner-1"></div>
                {% elif task.priority.priority == "High" %}
                  <div class="task-banner-2"></div>
                {% endif %}
                <div class="task-title">{{ task.task_title }}</div>
                <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
                <div class="task-deadline">Deadline: {{ task.due_date }}</div>
                <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
                <div class="task-mark">Mark as complete</div>
                <div class="task-assignee">Assigned to me</div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endfor %}

      {% for dict in assignee_dict %}
        <div class="menu4-assignee-tasks menu4-hide"><div class="menu4-submenu-title">{{ dict }} ({{ assignee_dict|getvalue:dict }}) </div><div class="menu4-dropbtn" id="assignee-dd-{{ forloop.counter0 }}" value="{{ forloop.counter0 }}"><i class="fas fa-chevron-down fa-lg"></i></div></div>
        <div class="assignee-tasks-list inactive" value="{{ forloop.counter0 }}">
          {% for task in sent_tasks %}
            {% if dict in task.assignees.all %}
              <div class="task-card">
                {% if task.priority.priority == "Low" %}
                  <div class="task-banner-0"></div>
                {% elif task.priority.priority == "Medium" %}
                  <div class="task-banner-1"></div>
                {% elif task.priority.priority == "High" %}
                  <div class="task-banner-2"></div>
                {% endif %}
                <div class="task-title">{{ task.task_title }}</div>
                <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
                <div class="task-deadline">Deadline: {{ task.due_date }}</div>
                <input type="checkbox" class="task-mark-tick" value="{{ task.id }}">
                <div class="task-mark">Mark as complete</div>
                <div class="task-assignee">Assigned to {{ dict }}</div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endfor %}

      <div class="menu4-completed-tasks"><div class="menu4-submenu-title">Completed {% if my_completed_tasks %}({{ my_completed_tasks|length }}){% else %} {% endif %} </div><div class="menu4-dropbtn" id="completed-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="completed-tasks-list inactive">
        {% for task in my_completed_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}" checked>
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to me</div>
          </div>
        {% endfor %}
      </div>

      <div class="menu4-sent-completed-tasks"><div class="menu4-submenu-title">Completed {% if my_sent_completed_tasks %}({{ my_sent_completed_tasks|length }}){% else %} {% endif %} </div><div class="menu4-dropbtn" id="sent-completed-dd"><i class="fas fa-chevron-down fa-lg"></i></div></div>
      <div class="sent-completed-tasks-list inactive">
        {% for task in my_sent_completed_tasks %}
          <div class="task-card">
            {% if task.priority.priority == "Low" %}
              <div class="task-banner-0"></div>
            {% elif task.priority.priority == "Medium" %}
              <div class="task-banner-1"></div>
            {% elif task.priority.priority == "High" %}
              <div class="task-banner-2"></div>
            {% endif %}
            <div class="task-title">{{ task.task_title }}</div>
            <div class="task-calender"><i class="far fa-calendar-alt fa-2x"></i></div>
            <div class="task-deadline">Deadline: {{ task.due_date }}</div>
            <input type="checkbox" class="task-mark-tick" value="{{ task.id }}" checked>
            <div class="task-mark">Mark as complete</div>
            <div class="task-assignee">Assigned to {% for assignee in task.assignees.all %} {{ assignee }} {% endfor %}</div>
          </div>
        {% endfor %}
      </div>
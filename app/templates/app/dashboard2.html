<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    {% load static %}
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <link rel="stylesheet" href="{% static 'app/content/style.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'app/content/chat.css' %}" />
    <link href="{% static 'app/content/main.css' %}" rel='stylesheet' />
    
    
    <link rel="stylesheet" href="{% static 'app/content/instantmessage.css' %}" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" type="text/css" rel="stylesheet">
   
    <script src="{% static 'app/scripts/main.js' %}"></script>
    <script src="{% static 'app/scripts/jquery.js' %}"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>   
      
    <script src="{% static 'app/scripts/chat.js' %}"></script>
    <script>

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

      var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
          },
          footerToolbar: {

          },
      defaultView: 'basicWeek',
      height: 500,
      navLinks: true, // can click day/week names to navigate views
      selectable: true,
      selectMirror: true,
      select: function(arg) {
        var title = prompt('Event Title:');
        if (title) {
          calendar.addEvent({
            title: title,
            start: arg.start,
            end: arg.end,
            allDay: arg.allDay
          })
        }
          calendar.unselect()
      },

      eventClick: function(arg) {
        if (confirm('Are you sure you want to delete this event?')) {
          arg.event.remove()
        }
      },
      editable: true,
      dayMaxEvents: true, // allow "more" link when too many events
      
      events: [
        {
          title: 'All Day Event',
          start: '2021-03-01'
        },
        {
          title: 'Long Event',
          start: '2021-09-07',
          end: '2021-03-10'
        },
        {
          groupId: 999,
          title: 'Repeating Event',
          start: '2021-03-09T16:00:00'
        },
        {
          groupId: 999,
          title: 'Repeating Event',
          start: '2021-03-16T16:00:00'
        },
        {
          title: 'Conference',
          start: '2021-03-11',
          end: '2021-03-13'
        },
        {
          title: 'Meeting',
          start: '2021-03-12T10:30:00',
          end: '2021-03-12T12:30:00'
        },
        {
          title: 'Lunch',
          start: '2021-03-12T12:00:00'
        },
        {
          title: 'Meeting',
          start: '2021-03-12T14:30:00'
        },
        {
          title: 'Happy Hour',
          start: '2021-03-12T17:30:00'
        },
        {
          title: 'Dinner',
          start: '2021-03-12T20:00:00'
        },
        {
          title: 'Birthday Party',
          start: '2021-03-13T07:00:00'
        },
        {
          title: 'Click for Google',
          url: 'http://google.com/',
          start: '2021-03-28'
        }
      ]
    });

    calendar.render();
  });

</script>
<style>

  body {
      margin: 40px 10px;
      padding: 0;
      font-family: Helvetica;
      font-size: 14px;
  }


  #act {
      position: relative;
      top: 4%;
  }
  #ref {
      position: relative;
  }
  #rev {
            position: relative;
        }
  .vl {
    position: relative;
  border-left: 1px solid white;
  height: 100%;
}
</style>
</head>
<body>
<div class="sidebar">


  <div class="sidebar-menu">
      <ul>
          <li>
              <a href="" class="active">
                  <span id="fist-element" class="las la-home"></span>
              </a>
          </li>
          <li>
              <a href="{% url 'resourcedirectory' %}">
                  <span class="las la-book"></span>
              </a>
          </li>
          <li>
              <a href="">
                  <span class="las la-comment-alt"></span>
              </a>
          </li>
          <li>
              <a href="{% url 'clientlist' %}">
                  <span class="las la-user-friends"></span>
              </a>
          </li>
          <li>
            <a href="">
                <span class="las la-plus-circle"></span>
            </a>
        </li>
      </ul>
  </div>
</div>



<header class="dash-header">

  <div class="sidebar-header">
      <span id="sidebar-toggle" class="las la-bars"></span>
  </div>
<div id="leftside">
  <div class="search-wrapper">
      <span class="las la-search"></span>
      <input type="search" placeholder="Search here" />
  </div>
  <div class="vl"></div>
    <div class="dropdown">
      <div class="user-wrapper">
        <a href="{% url 'profile' %}"><span  class="las la-user-circle" style=color:white;></span></a>
            <i id="caret-icon" style=font-size:25px;color:white;float:right; class="las la-angle-down"></i>
          <div class="dropdown-content">
            <div id="usermenu">
            <h3>{{ user.username }}</h3>
            <h4>Caseworker</h4>
            </div>
            <a href="{% url 'logout' %}">Log out</a>
          </div>
      </div>
  </div>
</div>
</header>

<div class="menu3">
  <div class="card-single-right">
          <img id="act" src="{% static 'app/images/activity.png' %}" style="width:100%; height:96%">

  </div>
</div>

<div class="main-content">
  <div class="running">
      <div><span class="dash"><strong>Dashboard</strong></span><span id="dots" class="las la-ellipsis-v"></span></div>
  </div>
  <div class="menu">
      <div class="card-single-one">
              <div id='calendar'></div>
      </div>

          <div class="card-single-two">
              <img id="ref" src="{% static 'app/images/referral.png' %}" style="width:100%; height:89%">
          </div>
      </div>
      <div class="menu2">
        <div class="card-single-three">
          <img id="rev" src="{% static 'app/images/review.png' %}"  style="width:100%; height:100%">
        </div>
          <div class="card-single-four">
                  <h4>Clients<span class="las la-expand-arrows-alt"></span></h4>

          </div>
      </div>


      <div class="open-button">Chat<i id="opn_btn" style=font-size:25px;color:white;float:right; class="las la-angle-up" onclick="openForm()"></i></div>

      <div class="chat-popup" id="myForm">
        <div class="chatHeader">Chat<i id="cls_btn" style=font-size:25px;color:white;float:right; class="las la-angle-down" onclick="closeForm()" ></i></div>
        <div class="messaging">
          <div class="inbox_msg">
            <div class="inbox_people">
              <div class="headind_srch">
                  <div class="recent_heading">
                    <h4 style="color:#013D44;">Users</h4>
                  </div>
                  <div class="srch_bar">
                    <div class="stylish-input-group">
                      <input type="text" id="search-bar" class="search-bar"  placeholder="Search" >
                      <span class="input-group-addon">
                      <button type="button"> <i class="fa fa-search" aria-hidden="true"></i> </button>
                      </span> 
                    </div>
                  </div>
              </div>
                  <input id="username" type="hidden" size="100">
                  <input id="myself" type="hidden" value="{{request.user.username}}" />
                  <div class="inbox_chat">
                                           
                                        <div class="chat_list">
                                        <!--<div class="chat_people">-->
                                            {% for user in users %}
                                            
                                            <div id="chat_people" class="chat_people">
                                                <li><a href='#' id="list" class='person' data-id='{{user.id}}' data-username="{{user.username}}"><i class="las la-user-circle"></i>{{user}}</a></li>
                                            
                                        </div>
                                            {% endfor %}
                                    
                                        </div>
                                    </div>
                                    </div>
                <div class="mesgs">
                  <div id="message_header"><i id="go_back" class="las la-arrow-left" style=font-size:25px;></i><span id="user_header" style=font-size:20px;></span></div>
                  <div id="chat-log" class="msg_history"> 
                  </div>
                  <div class="type_msg">
                    <div class="input_msg_write">
                      <input type="text" id="chat-message-input" class="write_msg" placeholder="Type a message">
                      <button id="chat-message-submit" class="msg_send_btn" type="button"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
                    </div>
                  </div>
                </div>
          </div>
              
        </div>
      </div>

      <script>
          function openForm() {
              document.getElementById("myForm").style.display = "block";
              document.getElementById("opn_btn").style.display = "none";
          }

          function closeForm() {
              document.getElementById("myForm").style.display = "none";
              document.getElementById("opn_btn").style.display = "block";
          }
      </script>
  </div>
</body>
</html>